---
- name: Install Common Packages
  dnf:
    name: "{{ common_packages }}"
    state: present
- name: Install Group Packages
  dnf:
    name: "{{ common_packages }}"
    state: present
- name: Remove unneeded Packages
  dnf:
    name: "{{ remove_packages }}"
    state: absent

- name: Install Digital Ocean Agent
  dnf:
    name: do-agent
    state: installed
  when: ansible_system_vendor == 'DigitalOcean'

- name: Install VMware Tools
  dnf:
    name: open-vm-tools
    state: installed
  when: ansible_system_vendor == 'VMware, Inc.'
